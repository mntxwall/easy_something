linux在使用过程中自我总结的技巧，会保持更新。

## 安装linux时分区建议

`/var/`会存放log文件，所以建议分配较大的空间。

`/usr/`是`apt-get`下载文件的地方，建议分配较大的空间。

`/etc/`是配置文件的集中地，可单独配置，也可以独立出来。

`/home/`用户的主目录，建议分配较大的空间。

`/boot/`分配单独空间，是为了哪天突然启动不了，重装时方便而建立的。

`/swap/`分配与内存相同大小的空间。

剩下的分配给`/`

应该可以满足大部分情况。

## 安装字体

linux下安装字体其实很简单，并不需要root权限。

把下载好的字体放在`~/.fonts/`目录底下。如果该目录不存在，使用`mkdir`建立该目录。

使用命令`fc-cache ~/.fonts`让字体生效。

`DejaVu San Mono`字体在emacs里显示得有点奇怪，10号字体常见得太小，12号又太大，11号字体看上去不像等宽字体。

`Liberation Mono`字体感觉起来不错，设为以后默认使用的字体。

## xfce4 teminal 主题设置

网络上大都是教我们把他们定义好的`terminalrc`放到`~/.config/xfce4/terminal`下。

这种做法是可以的，但是每次要修改termial主题时都要重新放置一次该文件，不太方便。

我们可以根据terminalrc里的内容把它改变成`*.theme`文件。

把该文件放在`/usr/share/xfce4/terminal/colorschemes`中，这样就可以在xfce terminal的首选项里找到该配置，非常方便。

下以`solarized`为例，把`github`上`Base16-xfce4-terminal`clone下来

把文件加上以下内容

```
[Scheme]
Name=WeiSolarized (dark)
```

去掉原来`terminalrc`里面的`[configuration]`把文件另存为`*.theme`放入先前说的目录中，修改就完成了。

把修改后的`*.theme`放在目录底下。


## 生成ssh key

在没有key认证前，要在小本子上记录好多服务器的密码。

有了key后，把它加入到服务器的信任列表中，就没有这些困扰了。

```
ssh-keygen -t rsa -b 2048 -f /path/keyname
```

会在path下生成`keyname`和`keyname.pub`文件。

把`keyname.pub`的内容贴到服务器`~/.ssh/authorized_keys`中

或者使用`ssh-copy-id user@ip`来完成该步聚。

在client端把生成的`keyname`和`keyname.pub`放入`~/.ssh`中

如果你只需要一个key，那么把`keyname`和`keyname.pub`重命名为`id_rsa`和`id_rsa.pub`。

如果有多个key，需要配置`~/.ssh/config`文件来区分这些key分别是用来登录哪台服务器。

```
Host github.com
IdentityFile ~/.ssh/keyname
```

通过上条命令的配置，我们就能使用`~/.ssh/`目录下的`keyname`这个key来登录[github.com](https://github.com)

## sublime text

安装inputHelper来实现中文的输入。

在目录.config/sublime-text-3/Packages中，运行`git clone https://github.com/xgenvn/InputHelper.git`完成安装

默认使用`ctrl+shift+z`打开Input Helper。


## debian 中文字体

安装以下中文字体

```
sudo apt-get install fonts-arphic-bkai00mp fonts-arphic-bsmi00lp fonts-arphic-gbsn00lp ttf-arphic-bkai00mp ttf-arphic-bsmi00lp ttf-arphic-gbsn00lp
sudo apt-get install fonts-droid ttf-droid 
sudo apt-get install ttf-wqy-zenhei ttf-wqy-microhei xfonts-wqy
sudo apt-get install fonts-arphic-ukai ttf-arphic-ukai fonts-arphic-uming ttf-arphic-uming
```

再配上infinality，可以有很好的显示效果!!

## Debian8 ati Radeon HD 2000/3000/4000 series 驱动

使用 `xserver-xorg-video-radeon` 可以解决该问题！

如果不行的话，再安装 `firmware-linux-nonfree`？（设试过，可以尝试一下！）


## Debian8 Gnome3 英文环境下的中文输入法

使用 `dpkg-reconfigure locales` 添加中文环境 `zh_CN GB2312 zh_CN.GB18030 GB18030 zh_CN.GBK GBK zh_CN.UTF-8 UTF-8`

然后安装ibus输入法就可以在Gnome3的设置里面出现ibus输入法了!

## Font rendering in Fedora 25

For the best font rendering experience follow the next steps:

1. Add RPMFusion Repos

2. Install freetype-freeworld package

3. Create file /etc/fonts/local.conf

4. Put these lines in the created file: 

```
<?xml version='1.0'?>
<!DOCTYPE fontconfig SYSTEM 'fonts.dtd'>
<fontconfig>
<match target="font">
    <edit name="antialias" mode="assign">
        <bool>true</bool>
    </edit>
    <edit name="autohint" mode="assign">
        <bool>false</bool>
    </edit>
    <edit name="hinting" mode="assign">
        <bool>true</bool>
    </edit>
    <edit name="hintstyle" mode="assign">
        <const>hintslight</const>
    </edit>
    <edit name="lcdfilter" mode="assign">
        <const>lcddefault</const>
    </edit>
    <edit name="rgba" mode="assign">
        <const>rgb</const>
    </edit>
    <edit name="embeddedbitmap" mode="assign">
        <bool>false</bool>
    </edit>
</match>
</fontconfig>

```

5. Logout or reboot

## CentOS 无图形界面下修改分辨率

网络上教程都是教修改 `/boot/grub2/grub.cfg` 文件，但是该文件中写明**DO NOT EDIT THIS FILE** 

所以正确的做法是修改`/etc/default/grub`文件后

使用`grub2-mkconfig -o /boot/grub2/grub.cfg`的方式来生成新的引导文件.

虽然最后效果也是生成新的`/boot/grub2/grub.cfg`但感觉这样才是正确的使用方法.

## apt 设置代理

在 `/etc/apt/apt.conf.d/` 中创建配置文件

加入代理配置 `Acquire::http::Proxy "http://username:password@proxy.server:port/";`

加入代理配置后使用apt 都会默认使用该代理。

如果想去掉代理在apt命令中加入 `atp -o Acquire::http::proxy=false`

## 创建LVM

`pvcreate /dev/sdb1`

`vgcreate lvmGroupName /dev/sdb1`

`lvcreate -n lvmName -l 100%Free lvmGroupName`





